{"version":3,"sources":["chat.js"],"names":["EmojiCtrl","require","cc","Class","extends","Component","properties","input","EditBox","emojiPanel","Node","emojiItem","Prefab","onLoad","emojiList","vv","configs","emoji","instantiate","parent","getComponent","setEmojiInfo","start","sendMessage","string","length","log","net","send","closeChatPanel","node","active"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,eAAOL,GAAGM,OAhBF;AAiBRC,oBAAYP,GAAGQ,IAjBP;AAkBRC,mBAAWT,GAAGU;AAlBN,KAHP;;AAwBL;;AAEAC,UA1BK,oBA0BI;AACL;AACA;AACA;AACI,YAAIC,YAAYZ,GAAGa,EAAH,CAAMC,OAAN,CAAcF,SAA9B;AAJC;AAAA;AAAA;;AAAA;AAKD,iCAAkBA,SAAlB,8HAA6B;AAAA,oBAApBG,KAAoB;;AACzB,oBAAIN,YAAYT,GAAGgB,WAAH,CAAe,KAAKP,SAApB,CAAhB;AACAA,0BAAUQ,MAAV,GAAmB,KAAKV,UAAxB;AACAE,0BAAUS,YAAV,CAAuBpB,SAAvB,EAAkCqB,YAAlC,CAA+CJ,KAA/C;AACH;AACL;AAVK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWR,KArCI;AAuCLK,SAvCK,mBAuCG,CAEP,CAzCI;AA2CLC,eA3CK,yBA2CS;AACV,YAAI,KAAKhB,KAAL,CAAWiB,MAAX,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC;AAC9BvB,eAAGwB,GAAH,CAAO,MAAP;AACAxB,eAAGwB,GAAH,CAAO,KAAKnB,KAAL,CAAWiB,MAAlB;AACAtB,eAAGa,EAAH,CAAMY,GAAN,CAAUC,IAAV,CAAe,MAAf,EAAuB,KAAKrB,KAAL,CAAWiB,MAAlC;AACA,iBAAKjB,KAAL,CAAWiB,MAAX,GAAoB,EAApB;AACH;AACJ,KAlDI;AAoDLK,kBApDK,4BAoDY;AACb,aAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;AACD;;AAvDK,CAAT","file":"chat.js","sourceRoot":"../../../../../assets/sprite/chat","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\nconst EmojiCtrl = require(\"emojiCtrl\")\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        input: cc.EditBox,\n        emojiPanel: cc.Node,\n        emojiItem: cc.Prefab,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        // cc.loader.loadRes(\"chat/emoji_action_texture\", cc.SpriteAtlas, function (err, atlas) {\n        //     cc.log(\"chat\")\n        //     cc.vv.emjioAtlas = atlas\n            let emojiList = cc.vv.configs.emojiList\n            for (let emoji of emojiList) {\n                let emojiItem = cc.instantiate(this.emojiItem)\n                emojiItem.parent = this.emojiPanel\n                emojiItem.getComponent(EmojiCtrl).setEmojiInfo(emoji)\n            }\n        // }.bind(this))\n    },\n\n    start() {\n\n    },\n\n    sendMessage() {\n        if (this.input.string.length > 0) {\n            cc.log(\"chat\")\n            cc.log(this.input.string)\n            cc.vv.net.send(\"chat\", this.input.string);\n            this.input.string = \"\"\n        }\n    },\n\n    closeChatPanel() {\n        this.node.active = false\n    }\n    // update (dt) {},\n});\n"]}