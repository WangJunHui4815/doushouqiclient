{"version":3,"sources":["../../../../../assets/sprite/controller/assets/sprite/controller/gamehallCtrl.js"],"names":["cc","Class","extends","Component","properties","userName","Label","userId","roomCardCount","diamondfield","Node","createRoomPanel","joinRoomPanel","editBox","EditBox","_difen","onLoad","string","vv","userMgr","gems","start","onBtnClicked","event","target","name","active","createRoom","conf","type","jushuxuanze","difen","ret","errcode","console","log","bind","hideCreateRoom","joinRoom","roomId","enterRoom","node","hideJoinRoom","setDifen"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,KADL;AAERC,gBAAQP,GAAGM,KAFH;AAGRE,uBAAeR,GAAGM,KAHV;AAIRG,sBAAcT,GAAGU,IAJT;AAKRC,yBAAiBX,GAAGU,IALZ;AAMRE,uBAAeZ,GAAGU,IANV;AAORG,iBAASb,GAAGc,OAPJ;AAQRC,gBAAQ;AARA,KAHP;;AAcL;;AAEAC,UAhBK,oBAgBI;AACL,aAAKX,QAAL,CAAcY,MAAd,GAAuBjB,GAAGkB,EAAH,CAAMC,OAAN,CAAcd,QAArC;AACA,aAAKE,MAAL,CAAYU,MAAZ,GAAqB,QAAQjB,GAAGkB,EAAH,CAAMC,OAAN,CAAcZ,MAA3C;AACA,aAAKC,aAAL,CAAmBS,MAAnB,GAA4B,QAAQjB,GAAGkB,EAAH,CAAMC,OAAN,CAAcC,IAAlD;AACH,KApBI;AAsBLC,SAtBK,mBAsBG,CAEP,CAxBI;;;AA0BLC,kBAAc,sBAAUC,KAAV,EAAiB;AAC3B,gBAAQA,MAAMC,MAAN,CAAaC,IAArB;AACI,iBAAK,cAAL;AACI;AACA;AACJ,iBAAK,YAAL;AACI,qBAAKhB,YAAL,CAAkBiB,MAAlB,GAA2B,IAA3B;AACA;AACJ,iBAAK,YAAL;AACI,qBAAKf,eAAL,CAAqBe,MAArB,GAA8B,IAA9B;AACA;AACJ,iBAAK,UAAL;AACI,qBAAKd,aAAL,CAAmBc,MAAnB,GAA4B,IAA5B;AACA;AAZR;AAcH,KAzCI;;AA2CLC,gBAAY,sBAAY;AACpB,YAAIC,OAAO;AACPC,kBAAM,OADC;AAEPC,yBAAa,CAFN;AAGPC,mBAAO,KAAKhB;AAHL,SAAX;AAKAf,WAAGkB,EAAH,CAAMC,OAAN,CAAcQ,UAAd,CAAyBC,IAAzB,EAA+B,UAAUI,GAAV,EAAe;AAC1C,gBAAIA,IAAIC,OAAJ,KAAgB,CAApB,EAAuB;AACnBC,wBAAQC,GAAR,CAAY,IAAZ,EAAkB,gBAAgBH,IAAIC,OAAtC;AACH;AACJ,SAJ8B,CAI7BG,IAJ6B,CAIxB,IAJwB,CAA/B;AAKH,KAtDI;;AAwDLC,oBAAgB,0BAAY;AACxB,aAAK1B,eAAL,CAAqBe,MAArB,GAA8B,KAA9B;AACH,KA1DI;;AA4DLY,cAAU,oBAAY;AAClB,YAAIC,SAAS,KAAK1B,OAAL,CAAaI,MAA1B;AACAjB,WAAGkB,EAAH,CAAMC,OAAN,CAAcqB,SAAd,CAAwBD,MAAxB,EAAgC,UAAUP,GAAV,EAAe;AAC3C,gBAAIA,IAAIC,OAAJ,IAAe,CAAnB,EAAsB;AAClB,qBAAKQ,IAAL,CAAUf,MAAV,GAAmB,KAAnB;AACH,aAFD,MAGK;AACDQ,wBAAQC,GAAR,CAAY,IAAZ,EAAkB,gBAAgBH,IAAIC,OAAtC;AACH;AACJ,SAP+B,CAO9BG,IAP8B,CAOzB,IAPyB,CAAhC;AAQH,KAtEI;;AAwELM,kBAAc,wBAAY;AACtB,aAAK9B,aAAL,CAAmBc,MAAnB,GAA4B,KAA5B;AACH,KA1EI;;AA4ELiB,YA5EK,oBA4EKZ,KA5EL,EA4EY;AACb,aAAKhB,MAAL,GAAcgB,KAAd;AACH;;AAED;;AAhFK,CAAT","file":"gamehallCtrl.js","sourceRoot":"../../../../../assets/sprite/controller","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        userName: cc.Label,\n        userId: cc.Label,\n        roomCardCount: cc.Label,\n        diamondfield: cc.Node,\n        createRoomPanel: cc.Node,\n        joinRoomPanel: cc.Node,\n        editBox: cc.EditBox,\n        _difen: 0\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.userName.string = cc.vv.userMgr.userName\n        this.userId.string = \"ID:\" + cc.vv.userMgr.userId\n        this.roomCardCount.string = \"房卡:\" + cc.vv.userMgr.gems\n    },\n\n    start() {\n\n    },\n\n    onBtnClicked: function (event) {\n        switch (event.target.name) {\n            case \"goldfieldBtn\":\n                // 金币场匹配 \n                break\n            case \"diamondBtn\":\n                this.diamondfield.active = true\n                break\n            case \"createGame\":\n                this.createRoomPanel.active = true\n                break\n            case \"joinGame\":\n                this.joinRoomPanel.active = true\n                break\n        }\n    },\n\n    createRoom: function () {\n        let conf = {\n            type: \"guess\",\n            jushuxuanze: 1,\n            difen: this._difen\n        }\n        cc.vv.userMgr.createRoom(conf, function (ret) {\n            if (ret.errcode !== 0) {\n                console.log(\"提示\", \"创建房间失败,错误码:\" + ret.errcode)\n            }\n        }.bind(this))\n    },\n\n    hideCreateRoom: function () {\n        this.createRoomPanel.active = false\n    },\n\n    joinRoom: function () {\n        let roomId = this.editBox.string\n        cc.vv.userMgr.enterRoom(roomId, function (ret) {\n            if (ret.errcode == 0) {\n                this.node.active = false;\n            }\n            else {\n                console.log(\"提示\", \"加入房间失败,错误码:\" + ret.errcode)\n            }\n        }.bind(this))\n    },\n\n    hideJoinRoom: function () {\n        this.joinRoomPanel.active = false\n    },\n\n    setDifen (difen) {\n        this._difen = difen\n    }\n\n    // update (dt) {},\n});\n"]}